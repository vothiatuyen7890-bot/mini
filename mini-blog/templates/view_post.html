{% extends "base.html" %}
{% block title %}{{ post.title }}{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-lg-10">
        <article class="bg-white p-5 rounded shadow-lg">
            <!-- Tiêu đề -->
            <h1 class="mb-3 text-primary">{{ post.title }}</h1>
            
            <!-- Thông tin tác giả -->
            <p class="text-muted border-bottom pb-2 mb-4">
                Tác giả: <span class="fw-bold">{{ author.username }}</span>
            </p>
            
            <!-- Nội dung bài viết -->
            <div class="post-content fs-5">
                <!-- Chuyển nội dung text thành các đoạn văn bản (nếu cần) -->
                {% for line in post.content.split('\n') %}
                <p>{{ line }}</p>
                {% endfor %}
            </div>
            
            <!-- Quay lại -->
            <div class="mt-5 pt-3 border-top">
                <a href="{{ url_for('dashboard') }}" class="btn btn-outline-secondary">
                    ← Quay lại Dashboard
                </a>
            </div>

            <!-- Chức năng chỉnh sửa/xóa (Chỉ hiện nếu là Tác giả) -->
            {% if current_user.is_authenticated and current_user.id == post.user_id %}
            <div class="mt-3">
                <button class="btn btn-sm btn-warning disabled me-2">Chỉnh Sửa (API PUT)</button>
                <button class="btn btn-sm btn-danger disabled">Xóa (API DELETE)</button>
            </div>
            {% endif %}
        </article>
    </div>
</div>
{% endblock %}